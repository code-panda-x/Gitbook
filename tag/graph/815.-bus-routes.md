# 815. Bus Routes

```
class Solution {
    public int numBusesToDestination(int[][] routes, int S, int T) {
        if(S == T)
            return 0;
        Map<Integer, List<Integer>>map = new HashMap<>();
        HashSet<Integer> set = new HashSet<>();
        Queue<Integer> que = new LinkedList<>();
        
        for(int i = 0; i < routes.length; i++){
            for(int j = 0; j < routes[i].length; j++){
                map.putIfAbsent(routes[i][j], new ArrayList<>());
                map.get(routes[i][j]).add(i);
            }
        }
        que.offer(S);
        int count = 0;
        
        while(!que.isEmpty()){
            count++;
            int size = que.size();
            for(int i = 0; i < size; i++){
                int node = que.poll();
                List<Integer> neighbors = map.get(node);
                for(int v : neighbors){
                    if(set.contains(v))
                        continue;
                    set.add(v);
                    for(int j = 0; j < routes[v].length; j++){
                        if(routes[v][j] == T)
                            return count;
                        que.offer(routes[v][j]);
                    }
                }
            }
        }
        return -1;
    }
}
```
